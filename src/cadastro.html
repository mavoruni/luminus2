<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Luminus</title>
    <link rel="stylesheet" href="src/css/login.css">
    <link rel="shortcut icon" href="src/img/LOGO-ILUMINUS-1.1.png">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script type="text/javascript" src="src/js/sidebar.js" defer></script>
</head>

<body>
    <header class="header">
        <a href="index.html">
            <img src="src/img/LOGO-ILUMINUS-1.1.png" alt="" />
            <h2>Luminus</h2>
        </a>
    </header>
    <form class="margin" action="src/php/cadastro.php" method="post" onsubmit="return validarSenha()">
        <div class="title">CRIAR CONTA</div>
        <div class="content">

            <div class="input">
                <label for="user">Nome de usuário</label>
                <input type="text" name="user" pattern=".{2,}" required>
            </div>

            <div class="input">
                <label for="email">Email</label>
                <input type="email" name="email" required>
            </div>

            <div class="input">
                <label for="senha">Senha</label required>
                <input type="password" name="senha" pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$" required id="senha">
            </div>

            <span class="mensagem">Sua senha deve conter no mínimo 6 caracteres, pelo<br>menos uma letra e um
                número.</span>

            <div class="input">
                <label for="confirm">Confirmar senha</label>
                <input type="password" name="confirm" required id="confirma_senha">
            </div>

            <a href="">Contatar o suporte Luminus</a>

            <div class="check"><input type="checkbox">Li e concordo com os <a href="">termos de uso</a></div>

            <p>Já possui uma conta? <a href="login.html">Acessar conta</a></p>

        </div>
        <input type="submit" value="CRIAR CONTA" />
    </form>

    <script>
        window.onload = function () {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('erro')) {
                alert("Este e-mail já está em uso.");
            }
        };

        function validarSenha() {
            let senha = document.getElementById("senha").value;
            let confirmaSenha = document.getElementById("confirma_senha").value;

            if (senha !== confirmaSenha) {
                alert("As senhas não coincidem.");
                return false;
            }
            return true;
        }
    </script>
</body>

</html>